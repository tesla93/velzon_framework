<app-breadcrumbs title="GENERATE QUOTE" [breadcrumbItems]="breadCrumbItems"></app-breadcrumbs>

<form [formGroup]="quoteForm" (ngSubmit)="generateReport()">
    <div class="row mb-3 text-black">
        <div class="col-lg-4 col-md-6 col-sm-12 form-floating my-2">
            <input mwlFlatpickr [altInput]="true" [enableTime]="true" [minDate]="minPickupDate"
                [convertModelValue]="true" altFormat="d M, Y H:i" (change)="onChangePickupDate()"
                [dateFormat]="'d M, Y H:i'" class="form-control" placeholder="Pickup Date" formControlName="pickupDate">
            <label class="text-muted">Pickup Date</label>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-12 form-floating my-2">
            <input mwlFlatpickr [altInput]="true" [enableTime]="true" [minDate]="minDeliveryDate"
                [convertModelValue]="true" altFormat="d M, Y H:i" (change)="onChangeDeliveryDate()"
                [dateFormat]="'d M, Y H:i'" class="form-control" placeholder="Delivery Date"
                formControlName="deliveryDate">
            <label class="text-muted">Delivery Date</label>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-12 form-floating my-2">
            <input class="form-control" placeholder="Flight Number" (click)="openModal()" formControlName="flightsInfo">
            <label class="text-muted">Flights Info</label>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-12 form-floating my-2">
            <input class="form-control" placeholder="Total Price" type="number" formControlName="totalPrice">
            <label class="text-muted">Total Price</label>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-12 form-floating my-2">
            <input class="form-control" placeholder="0.00 kg" type="text" formControlName="weight">
            <label class="text-muted">Weight</label>
        </div>
        <div class="col-lg-4 col-md-6 col-sm-12 my-2 row">
            <div class="col-4 form-floating">
                <input class="form-control" placeholder="Large" type="text" formControlName="large">
                <label class="text-muted">Large</label>
            </div>
            <div class="col-4 form-floating">
                <input class="form-control" placeholder="Width" type="text" formControlName="width">
                <label class="text-muted">Width</label>
            </div>
            <div class="col-4 form-floating">
                <input class="form-control" placeholder="Width" type="text" formControlName="height">
                <label class="text-muted">Height</label>
            </div>
        </div>
        <div class="hstack gap-2 mt-1 justify-content-end">
            <button type="submit" class="btn btn-primary">
                Generate report
            </button>
        </div>
    </div>
</form>

<ng-template #editFlightsScale let-modal>
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Flight Scales</h5>
                <span class="ms-1">
                    <a><i class="bx bx-edit text-dark fs-20 ms-2 mt-1"></i></a>
                </span>
                <button type="button" class="btn-close" (click)="closeModal()" data-bs-dismiss="modal"
                    aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <flight-form [maxTime]="maxTime" [minDepartureTime]="minDepartureTime" (processFlights)="processFlights($event)"></flight-form>
            </div>
        </div>
    </div>
</ng-template>